(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{567:function(e,t,r){e.exports=r.p+"img/safari-pinned-tab.27223e3.svg"},571:function(e,t,r){var content=r(582);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(17).default)("75d8031a",content,!0,{sourceMap:!1})},576:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(25),o=r(3),c=r(222),l=r(223);r(18),r(29),r(26),r(53),r(54),r(39),r(8),r(15),r(44),r(131),r(37);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(){return Object(l.a)((function e(t){Object(c.a)(this,e),this.axios=t}),[{key:"createApplication",value:(e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d,m,h,f,_,x,$;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",t&&("function"==typeof t.get?r=t.get("recaptchaToken")||"":t.recaptchaToken?r=t.recaptchaToken:t.recaptcha_token&&(r=t.recaptcha_token)),r){e.next=5;break}return n=window.$nuxt&&window.$nuxt.$i18n?window.$nuxt.$i18n.t("modal.recaptcha_required"):"reCAPTCHA verification is required",e.abrupt("return",{success:!1,error:n});case 5:if(o=t.data.phone_number||"",!(c=t.data.email||"")){e.next=12;break}if(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(c)){e.next=12;break}return l=window.$nuxt&&window.$nuxt.$i18n?window.$nuxt.$i18n.t("modal.invalid_email_format"):"Invalid email format",e.abrupt("return",{success:!1,error:l});case 12:if(!o){e.next=23;break}if(d=o.replace(/[\s\(\)\-\.]/g,""),/^(\+998|998|0)?(9[0-9]{8})$/.test(d)){e.next=18;break}return m=window.$nuxt&&window.$nuxt.$i18n?window.$nuxt.$i18n.t("modal.invalid_phone_format"):"Invalid Uzbekistan phone number",e.abrupt("return",{success:!1,error:m});case 18:h=d.startsWith("+")?d:d.startsWith("998")?"+"+d:"+998"+d,void 0!==t.phone_number&&(t.phone_number=h),t.data&&void 0!==t.data.phone_number&&(t.data.phone_number=h),e.next=25;break;case 23:return f=window.$nuxt&&window.$nuxt.$i18n?window.$nuxt.$i18n.t("modal.phone_number_required"):"Phone number is required",e.abrupt("return",{success:!1,error:f});case 25:return e.prev=25,_={},t.data?(_=v({},t.data),t.recaptchaToken&&(_.recaptcha_token=t.recaptchaToken)):(_=v({},t)).recaptchaToken&&!_.recaptcha_token&&(_.recaptcha_token=_.recaptchaToken,delete _.recaptchaToken),e.next=30,this.axios.post("/api/applications",_,{headers:{"Content-Type":"application/json"}});case 30:return x=e.sent,e.abrupt("return",{success:!0,data:x.data});case 34:return e.prev=34,e.t0=e.catch(25),e.abrupt("return",{success:!1,error:(null===($=e.t0.response)||void 0===$||null===($=$.data)||void 0===$?void 0:$.message)||"An error occurred"});case 37:case"end":return e.stop()}}),e,this,[[25,34]])}))),function(t){return e.apply(this,arguments)})}]);var e}()},578:function(e,t,r){"use strict";r.r(t);var n=r(3),o=(r(18),r(52),r(15),r(44),r(560)),c=r(70),l=r(579),d=r(574),v=r(221),m=r(577),h=r(576),f=r(218),_={name:"addDepositModal",components:{Btn:c.default,KinesisContainer:o.a,KinesisElement:o.b,TheMask:d.TheMask,VueRecaptcha:m.a},props:["target","close","image"],data:function(){return{first_name:"",last_name:"",phone_number:"",product:"",comment:"",googleCaptchaKey:f.b,googleCaptchaToken:null,recaptchaError:!1,applicationService:new h.a(this.$axios)}},validations:{first_name:{required:l.required},last_name:{required:l.required},phone_number:{required:l.required,validUzbekPhone:function(e){if(!e)return!1;var t=e.replace(/[\s\(\)\-\.]/g,"");return/^(\+998|998|0)?(9[0-9]{8})$/.test(t)}}},methods:{captchaVerified:function(e){this.googleCaptchaToken=e,this.recaptchaError=!1},captchaExpired:function(){this.googleCaptchaToken=null},submit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.$v.$invalid){t.next=3;break}return t.abrupt("return");case 3:if(e.googleCaptchaToken){t.next=6;break}return e.recaptchaError=!0,t.abrupt("return");case 6:return t.next=8,e.applicationService.createApplication({data:{first_name:e.first_name,last_name:e.last_name,phone_number:"+998"+e.phone_number,product:e.target},recaptchaToken:e.googleCaptchaToken});case 8:if(!(r=t.sent)||!r.success){t.next=19;break}return t.next=12,e.displayNotification();case 12:e.$emit("close"),e.first_name="",e.last_name="",e.phone_number="",e.$v.$reset(),t.next=20;break;case 19:e.displayErrorNotification((null==r?void 0:r.error)||"Invalid phone number format");case 20:case"end":return t.stop()}}),t)})))()},displayNotification:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r(567),e.$snotify.html('\n        <div class="p-2">\n          <img class="mb-2" src="'.concat(r(326),'">\n          <p class="font-semibold text-base">').concat(e.$i18n.t("modal.warning"),"</p>\n        </div>\n      "),{showProgressBar:!1,icon:n,type:v.a.success});case 2:case"end":return t.stop()}}),t)})))()},displayErrorNotification:function(e){var t=r(567);this.$snotify.html('\n        <div class="p-2">\n          <img class="mb-2" src="'.concat(r(326),'">\n          <p class="font-semibold text-base text-red-600">').concat(e,"</p>\n        </div>\n      "),{showProgressBar:!1,icon:t,type:v.a.error})}}},x=(r(581),r(5)),component=Object(x.a)(_,(function(){var e=this,t=e._self._c;return e.$v.first_name?t("kinesis-container",{staticClass:"addDepositModal lg:pt-[30px] pt-4 relative"},[t("h2",{staticClass:"font-semibold text-dark-900 lg:text-3xl text-[22px] lg:my-8 my-4 text-center"},[e._v("\n    "+e._s(e.$t("modal.title"))+"\n  ")]),e._v(" "),!1!==e.close?t("svg-icon",{staticClass:"w-6 h-6 absolute top-[35px] right-[30px] fill-dark-900 cursor-pointer",attrs:{name:"close"},on:{click:function(t){return e.$emit("close")}}}):e._e(),e._v(" "),t("div",{staticClass:"grid lg:grid-cols-2"},[t("div",{staticClass:"lg:block hidden relative p-8"},[t("kinesis-element",{staticClass:"w-full h-full object-contain",attrs:{strength:-10,tag:"img",src:e.image||r(580)}})],1),e._v(" "),t("div",{staticClass:"block lg:p-[30px] p-3"},[t("div",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"text-base text-dark-700 mb-3 font-medium"},[e._v("\n        "+e._s(e.$t("modal.name"))+"\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.first_name,expression:"first_name"}],class:{"border-red":!e.$v.first_name.required&&e.$v.first_name.$dirty},attrs:{type:"text",placeholder:e.$t("modal.name_placeholder")},domProps:{value:e.first_name},on:{input:function(t){t.target.composing||(e.first_name=t.target.value)}}}),e._v(" "),t("div",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"text-base text-dark-700 mb-3 font-medium"},[e._v("\n        "+e._s(e.$t("modal.last_name"))+"\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.last_name,expression:"last_name"}],class:{"border-red":!e.$v.last_name.required&&e.$v.last_name.$dirty},attrs:{type:"text",placeholder:e.$t("modal.last_name_placeholder")},domProps:{value:e.last_name},on:{input:function(t){t.target.composing||(e.last_name=t.target.value)}}}),e._v(" "),t("div",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"text-base text-dark-700 mb-3 font-medium"},[e._v("\n        "+e._s(e.$t("modal.phone"))+"\n      ")]),e._v(" "),t("div",[t("the-mask",{class:{"border-red":e.$v.phone_number.$dirty&&(!e.$v.phone_number.required||!e.$v.phone_number.validUzbekPhone)},attrs:{value:!0,placeholder:"+(998) 12 345-67-89",mask:"+(998) ## ###-##-##"},model:{value:e.phone_number,callback:function(t){e.phone_number=t},expression:"phone_number"}})],1),e._v(" "),e.$v.phone_number.$dirty&&!e.$v.phone_number.validUzbekPhone&&e.$v.phone_number.required?t("div",{staticClass:"text-red-500 text-sm mt-1"},[e._v("\n        "+e._s(e.$t("modal.invalid_phone_format"))+"\n      ")]):e._e(),e._v(" "),t("div",{staticClass:"mt-4 mb-2"},[e.googleCaptchaKey?t("vue-recaptcha",{ref:"recaptchaRef",attrs:{sitekey:e.googleCaptchaKey,size:"normal"},on:{verify:e.captchaVerified,expired:e.captchaExpired}}):e._e(),e._v(" "),e.recaptchaError?t("div",{staticClass:"text-red-500 text-sm mt-1"},[e._v("\n          "+e._s(e.$t("modal.recaptcha_required"))+"\n        ")]):e._e()],1),e._v(" "),t("btn",{staticClass:"bg-red mt-3",on:{click:e.submit}},[e._v(e._s(e.$t("modal.send")))])],1)])],1):e._e()}),[],!1,null,"796ce5db",null);t.default=component.exports},580:function(e,t,r){e.exports=r.p+"img/add-deposit.aabca5d.png"},581:function(e,t,r){"use strict";r(571)},582:function(e,t,r){var n=r(16)((function(i){return i[1]}));n.push([e.i,".snotifyToast__inner[data-v-796ce5db]{background:#f8f8f8;padding-right:15px!important}",""]),n.locals={},e.exports=n},764:function(e,t,r){"use strict";r.r(t);r(57),r(14),r(8),r(15),r(44),r(130),r(220),r(37),r(30);var n=r(70),o=r(625),c=r(0),l=r(578),d={name:"DepositCalculate",components:{Btn:n.default,veeno:o.a,AddDepositModal:l.default},props:["data"],data:function(){return{handles:[1e5],value:10,handlesMonth:36,valueMonth:3,selectTariff:null,currency:"USD",percent:4.5,term:{min:3,"19%":6,"38%":9,"57%":12,"76%":24,max:36},range:{min:500,max:1e5}}},mounted:function(){var e,t,r,n,o,c;this.selectTariff={currency:null===(e=this.data.attributes)||void 0===e?void 0:e.currency_type,initial_installment:+(null===(t=this.data.attributes)||void 0===t?void 0:t.initial_amount.replaceAll(" ","")),confines:{min:+(null===(r=this.data.attributes)||void 0===r?void 0:r.initial_amount.replaceAll(" ","")),max:null===(n=this.data.attributes)||void 0===n?void 0:n.max_price},term:+(null===(o=this.data.attributes)||void 0===o?void 0:o.period),percent:{type:1===this.data.attributes.percents.length?"FIXED":"MIXED",value:1===this.data.attributes.percents.length?null===(c=this.data.attributes.percents.at(-1))||void 0===c?void 0:c.percent:this.data.attributes.percents}},this.changeTariff()},methods:{sliderUpdate:function(e){var t=this,r=this.$refs.slide.$el;this.$refs.value.value=(parseInt(e.values[0])||"").toLocaleString()+" "+this.currency,r.querySelectorAll(".noUi-value").forEach((function(r,n){r.innerHTML=parseInt(r.getAttribute("data-value")).toLocaleString("ru-Ru")+" "+t.currency,r.classList.remove("active"),parseInt(e.values[0])>=r.getAttribute("data-value")&&r.classList.add("active")}))},sliderUpdateMonth:function(e){var t=this,r=this.$refs.slideMonth.$el;this.$refs.valueMonth.value=parseInt(e.values[0])||"",r.querySelectorAll(".noUi-value").forEach((function(r,n){parseInt(r.getAttribute("data-value"))%12==0?r.innerHTML=parseInt(r.getAttribute("data-value"))/12+" "+t.$i18n.t("credit.year"):r.innerHTML=r.getAttribute("data-value")+" "+t.$i18n.t("credit.month"),r.classList.remove("active"),parseInt(e.values[0])>=r.getAttribute("data-value")&&r.classList.add("active")})),this.selectTariff&&"MIXED"===this.selectTariff.percent.type&&this.selectTariff.percent.value.map((function(r){parseInt(e.values[0])>=r.month&&(t.percent=r.percent)}))},changeValue:function(e){var t=parseInt(e.target.value.replace(/\D+/g,""));this.$refs.value.value=(t||"").toLocaleString()+" "+this.currency,this.$refs.value.setSelectionRange(this.$refs.value.value.length-4,this.$refs.value.value.length-4),t<=500||!t||(t<1e5?this.$refs.slide.$el.noUiSlider.set(t):this.$refs.slide.$el.noUiSlider.set(1e5))},changeValueMonth:function(e){var t=parseInt(e.target.value.replace(/\D+/g,""));t<3||!t||(t<36?this.$refs.slideMonth.$el.noUiSlider.set(t):this.$refs.slideMonth.$el.noUiSlider.set(36))},changeTariff:function(){var e=this;if(this.selectTariff){var t,r,n,o;if(this.handles=[this.selectTariff.confines.min],this.range={min:+(null===(t=this.data.attributes)||void 0===t?void 0:t.initial_amount.replaceAll(" ","")),"40%":(null===(r=this.data.attributes)||void 0===r?void 0:r.max_price)/2,max:null===(n=this.data.attributes)||void 0===n?void 0:n.max_price},this.handlesMonth=this.selectTariff.term,this.term.min=1,this.selectTariff.term>=3&&(this.term["19%"]=[3,1]),this.selectTariff.term>=6&&(this.term["38%"]=[6,1]),this.selectTariff.term>=9&&(this.term["57%"]=[9,1]),this.selectTariff.term>=12&&(this.term["76%"]=[12,1]),this.term.max=this.selectTariff.term,this.currency=this.selectTariff.currency,"FIXED"===this.selectTariff.percent.type)this.percent=this.selectTariff.percent.value,this.$refs.slideMonth.$el.setAttribute("disabled",!0),this.$refs.valueMonth.setAttribute("disabled",!0);else this.percent=(null===(o=this.selectTariff.percent.value[this.selectTariff.percent.value.length-1])||void 0===o?void 0:o.percent)||0,this.$refs.slideMonth.$el.removeAttribute("disabled"),this.$refs.valueMonth.removeAttribute("disabled");Object(c.nextTick)((function(){var t,r,n,o;null===(t=e.$refs.slideMonth)||void 0===t||t.$el.noUiSlider.updateOptions({range:e.term}),null===(r=e.$refs.slideMonth)||void 0===r||r.$el.noUiSlider.set(e.selectTariff.term),null===(n=e.$refs.slide)||void 0===n||n.$el.noUiSlider.updateOptions({range:e.range}),null===(o=e.$refs.slide)||void 0===o||o.$el.noUiSlider.set(e.selectTariff.confines.min)}))}},openModal:function(){this.$modal.show(l.default,{target:"Вклад: "+this.data.attributes.name+" Ссылка: "+window.location.href},{scrollable:!0,height:"auto",width:820,adaptive:!0})}}},v=r(5),component=Object(v.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"deposit-child__page-calculate"},[t("div",{staticClass:"container mx-auto lg:py-8 py-4 px-4"},[t("div",{staticClass:"grid lg:gap-[60px] gap-8 lg:grid-cols-calculate grid-cols-1 bg-gray-800 md:p-[30px] p-4 rounded-md"},[t("div",{staticClass:"form__calculate relative md:p-[30px]"},[t("h2",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"font-medium text-2xl mr-auto md:mb-[30px] mb-4"},[e._v(e._s(e.$t("deposit.calc_title")))]),e._v(" "),t("div",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"text-base text-dark-700 mb-3 font-medium"},[e._v(e._s(e.$t("deposit.calc_price")))]),e._v(" "),t("input",{ref:"value",staticClass:"input__calculate",attrs:{type:"text"},on:{input:e.changeValue}}),e._v(" "),t("veeno",{ref:"slide",staticClass:"mb-[60px]",attrs:{connect:[!0,!1],handles:e.handles,range:e.range,pipsy:""},on:{update:e.sliderUpdate},model:{value:e.value,callback:function(t){e.value=e._n(t)},expression:"value"}}),e._v(" "),t("div",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"text-base text-dark-700 mb-3 font-medium"},[e._v(e._s(e.$t("credit.term")))]),e._v(" "),t("input",{ref:"valueMonth",staticClass:"input__calculate",attrs:{type:"text"},on:{input:e.changeValueMonth}}),e._v(" "),t("veeno",{ref:"slideMonth",staticClass:"mb-[60px]",attrs:{handles:[e.handlesMonth],connect:[!0,!1],pipsy:"",step:1,range:e.term},on:{update:e.sliderUpdateMonth},model:{value:e.valueMonth,callback:function(t){e.valueMonth=e._n(t)},expression:"valueMonth"}}),e._v(" "),t("p",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"text-base text-dark-800 mt-[30px] text-center"},[e._v(e._s(e.$t("credit.calc_desc")))])],1),e._v(" "),t("div",{staticClass:"relative md:p-[30px] p-4 bg-white rounded-md"},[t("div",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"text-base font-medium text-dark-700 mb-2"},[e._v(e._s(e.$t("credit.percent")))]),e._v(" "),t("p",{staticClass:"text-2xl font-semibold px-[30px] rounded-md py-2 mb-4 text-dark-900 bg-gray-800"},[e._v(e._s(e.percent)+"%")]),e._v(" "),t("div",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"text-base font-medium text-dark-700 mb-2"},[e._v(e._s(e.$t("deposit.last_price")))]),e._v(" "),t("p",{staticClass:"text-2xl font-semibold px-[30px] rounded-md py-2 mb-4 text-dark-900 bg-gray-800"},[e._v("\n          "+e._s(Math.round(e.value*Math.pow(1+.01*e.percent,e.valueMonth/12)).toLocaleString())+" "+e._s(e.currency))]),e._v(" "),t("div",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"text-base font-medium text-dark-700 mb-2"},[e._v(e._s(e.$t("deposit.plus_cash")))]),e._v(" "),t("p",{staticClass:"text-2xl font-semibold px-[30px] rounded-md py-2 mb-4 text-green bg-gray-800"},[e._v("\n          +"+e._s(Math.round(e.value*Math.pow(1+.01*e.percent,e.valueMonth/12)-e.value).toLocaleString())+" "+e._s(e.currency))]),e._v(" "),t("Btn",{directives:[{name:"data-sized",rawName:"v-data-sized"}],staticClass:"btn bg-red mt-auto",on:{click:e.openModal}},[e._v(e._s(e.$t("deposit.btn")))])],1)])])])}),[],!1,null,null,null);t.default=component.exports}}]);